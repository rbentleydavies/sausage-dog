!function(e){function t(a){if(n[a])return n[a].exports;var s=n[a]={exports:{},id:a,loaded:!1};return e[a].call(s.exports,s,s.exports,t),s.loaded=!0,s.exports}var n={};return t.m=e,t.c=n,t.p="/",t(0)}([function(e,t,n){e.exports=n(1)},function(e,t,n){"use strict";function a(e){var t=JSON.parse(e),n="<ul>";t.forEach(function(e){n+="<li><a href='#' class='mailboxlink'>"+e.name+"</a></li>"}),n+="</ul>",document.getElementById("mailboxes").innerHTML=n;var a=document.getElementsByClassName("mailboxlink");Array.from(a).forEach(function(e){e.addEventListener("click",s)})}function s(e){var t=document.getElementById("coverpage");t.classList.add("closed");var n=document.getElementById("covercontent");n.classList.add("hidden");var a=new r.HttpClient;a.get("/mbx/"+e.target.innerHTML,d)}function d(e){c=JSON.parse(e);var t="<table class='table'>";c.forEach(function(e){t+="<tr><td>"+e.from.address+"</td><td><a href='#' class='messagelink'>"+e.subject+"</a><input type='hidden' value='"+e.messageId+"'/></td><td>"+e.date+"</td></tr>"}),t+="</table>",document.getElementById("messages").parentElement.classList.remove("hidden"),document.getElementById("messages").innerHTML=t,document.getElementById("message").classList.add("hidden");var n=document.getElementsByClassName("messagelink");Array.from(n).forEach(function(e){e.addEventListener("click",m)})}function m(e){var t=null,n=document.getElementsByTagName("tr");Array.from(n).forEach(function(e){e.classList.remove("active")}),e.target.parentElement.parentElement.classList.add("active"),document.getElementById("message").classList.remove("hidden"),c.forEach(function(n){n.messageId==e.target.nextSibling.value&&(t=n)}),document.getElementById("messageheaders").innerHTML=JSON.stringify(t.headers),document.getElementById("messagemessageid").innerHTML=t.messageId,document.getElementById("messagefrom").innerHTML=t.from.name+"&lt;<a href='mailto:"+t.from.address+"'>"+t.from.address+"</a>&gt;",document.getElementById("messagesubject").innerHTML=t.subject,document.getElementById("messagetext").innerHTML="<pre>"+t.text+"</pre>",""!=t.html?document.getElementById("messagehtml").innerHTML=t.html:document.getElementById("messagehtml").innerHTML="<pre>"+t.text+"</pre>",t.date?document.getElementById("messagedate").innerHTML=t.date:document.getElementById("messagedate").innerHTML="&nbsp;",document.getElementById("messageattachments").innerHTML=t.attachments,document.getElementById("messageto").innerHTML="&nbsp;",t.to.forEach(function(e){document.getElementById("messageto").innerHTML+=e.name+"&lt;<a href='mailto:"+e.address+"'>"+e.address+"</a>&gt;"}),document.getElementById("messagecc").innerHTML="&nbsp;",t.cc.forEach(function(e){document.getElementById("messagecc").innerHTML+=e.name+"&lt;<a href='mailto:"+e.address+"'>"+e.address+"</a>&gt;"}),document.getElementById("messagebcc").innerHTML="&nbsp;",t.bcc.forEach(function(e){document.getElementById("messagebcc").innerHTML+=e.name+"&lt;<a href='mailto:"+e.address+"'>"+e.address+"</a>&gt;"})}var r=n(2),c=[];document.addEventListener("DOMContentLoaded",function(){var e=new r.HttpClient;e.get("/mailboxes",a)})},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){this.get=function(e,t){var n=new XMLHttpRequest;n.onreadystatechange=function(){4==n.readyState&&200==n.status&&t(n.responseText)},n.open("GET",e,!0),n.send(null)}};t.HttpClient=n}]);
//# sourceMappingURL=index.js.map