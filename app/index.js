!function(e){function t(s){if(n[s])return n[s].exports;var a=n[s]={exports:{},id:s,loaded:!1};return e[s].call(a.exports,a,a.exports,t),a.loaded=!0,a.exports}var n={};return t.m=e,t.c=n,t.p="/",t(0)}([function(e,t,n){e.exports=n(1)},function(e,t,n){"use strict";function s(e){var t=JSON.parse(e),n="<ul>";t.forEach(function(e){n+="<li><a href='#' class='mailboxlink'>"+e.name+"</a></li>"}),n+="</ul>",document.getElementById("mailboxes").innerHTML=n;var s=document.getElementsByClassName("mailboxlink");Array.from(s).forEach(function(e){e.addEventListener("click",a)})}function a(e){var t=new m.HttpClient;t.get("/mbx/"+e.target.innerHTML,r)}function r(e){i=JSON.parse(e);var t="<table>";i.forEach(function(e){t+="<tr><td>"+e.from.address+"</td><td><a href='#' class='messagelink'>"+e.subject+"</a><input type='hidden' value='"+e.messageId+"'/></td><td>"+e.date+"</td></tr>"}),t+="</table>",document.getElementById("messages").innerHTML=t,document.getElementById("message").classList.add("hidden");var n=document.getElementsByClassName("messagelink");Array.from(n).forEach(function(e){e.addEventListener("click",d)})}function d(e){var t=(new m.HttpClient,null),n=document.getElementsByTagName("tr");Array.from(n).forEach(function(e){e.classList.remove("selected")}),e.target.parentElement.parentElement.classList.add("selected"),document.getElementById("message").classList.remove("hidden"),i.forEach(function(n){n.messageId==e.target.nextSibling.value&&(t=n)}),document.getElementById("messageheaders").innerHTML=JSON.stringify(t.headers),document.getElementById("messagemessageid").innerHTML=t.messageId,document.getElementById("messagefrom").innerHTML=JSON.stringify(t.from),document.getElementById("messagesubject").innerHTML=t.subject,document.getElementById("messagetext").innerHTML="<pre>"+t.text+"</pre>",document.getElementById("messagehtml").innerHTML=t.html,document.getElementById("messagedate").innerHTML=t.date,document.getElementById("messageattachments").innerHTML=t.attachments,document.getElementById("messageto").innerHTML=JSON.stringify(t.to),document.getElementById("messagecc").innerHTML=JSON.stringify(t.cc),document.getElementById("messagebcc").innerHTML=JSON.stringify(t.bcc)}var m=n(2),i=[];document.addEventListener("DOMContentLoaded",function(){var e=new m.HttpClient;e.get("/mailboxes",s)})},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){this.get=function(e,t){var n=new XMLHttpRequest;n.onreadystatechange=function(){4==n.readyState&&200==n.status&&t(n.responseText)},n.open("GET",e,!0),n.send(null)}};t.HttpClient=n}]);
//# sourceMappingURL=index.js.map